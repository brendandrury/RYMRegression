!function(){var e="string"==typeof assertive_override_pbjs?assertive_override_pbjs:"pbjs";window[e]=window[e]||{};var t=window[e],i="string"==typeof assertive_override_adid?assertive_override_adid:"hb_adid",n={pageViewUUID:void 0,impressions:void 0,metaDeduplication:void 0,ayHash:void 0,auctionIds:{}};function s(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n])){var s=e[n];return i&&e.splice(n,1),s}}function r(e){var t=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(window.location.href);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}var o,a="undefined"!=typeof assertive_debug&&assertive_debug||localStorage.getItem("assertiveYield")&&-1!==localStorage.getItem("assertiveYield").indexOf("debug")||-1!==r("assertiveYield").indexOf("debug"),d=["background: linear-gradient(-152deg,#6937ea,#377fea 65%)","border-radius: 3px","color: white","padding: 1px 5px"].join(";"),u=a?window.console.log.bind(window.console,"%cAY",d):function(){};function c(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,c)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(-1!==t.indexOf("amazon-adsystem.com/aax2/apstag"))return null;i=s||("object"===("undefined"==typeof assertive_override_creativeRegex?"undefined":p(assertive_override_creativeRegex))?assertive_override_creativeRegex:new RegExp("(?:(?:".concat(n,'\\.renderAd\\(document,|adId:*|hb_adid":\\[)|(?:pbadid=)|(?:adId=))[\'"](.*?)["\']'),"gi"));var r=t.replace(/ /g,""),o=i.exec(r);return o?o[1]||!0:null}function v(e){if(e){var i=t.getBidResponses()[e];return i&&i.bids?i.bids:[]}var n=[],s=t.getBidResponses();return Object.keys(s).forEach((function(e){Object.keys(s[e].bids).forEach((function(t){n.push(s[e].bids[t])}))})),n}function f(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||!t.getBidResponsesForAdUnitCode)return null;var r=i.getSlotElementId(),o=i.getAdUnitPath(),a=t.getBidResponsesForAdUnitCode(r).bids,d=t.getBidResponsesForAdUnitCode(o).bids,u=a.concat(d),c=s(u,(function(t){return t.adId===e}))||null;return!n&&c&&c.ad&&delete(c=JSON.parse(JSON.stringify(c))).ad,c}function g(){var e;try{e=t.pbjs.getConfig("bidderTimeout")}catch(e){}return e||"undefined"==typeof assertive_timeout||(e=assertive_timeout),e||null}o=function(){return Date.now()};function _(e){return"assertive_analytics_".concat(e)}function h(e,t){try{localStorage.setItem(_(e),t)}catch(e){}}function y(e){try{localStorage.removeItem(_(e))}catch(e){}}function b(e){try{return localStorage.getItem(_(e))}catch(e){return null}}function w(e){try{var t=_(e),i=Number(localStorage.getItem(t))||0;i++,localStorage.setItem(t,i)}catch(e){}}function I(e){if(w(e+"PageViewN"),"client"!==e||!b(e+"UUID")){if("session"===e){if(b(e+"UUID")&&b(e+"Timeout")&&Date.now()<Number(b(e+"Timeout")))return void h(e+"Timeout",Date.now()+18e5);h(e+"Timeout",Date.now()+18e5)}h(e+"UUID",c()),h(e+"Random",Math.random()),y(e+"BidStats"),document.referrer?h(e+"Referrer",document.referrer):y(e+"Referrer"),h(e+"EntryPathname",window.location.pathname);var t={};["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach((function(e){var i=r(e);""!==i&&(t[e]=i)}));var i=JSON.stringify(t);i!==JSON.stringify({})?h(e+"UTM",i):y(e+"UTM"),h(e+"ImpressionN",1),h(e+"PageViewN",1),"session"===e&&w("clientSessionN")}}function U(){var e,t="undefined"!=typeof assertive_hash_values?assertive_hash_values:4e3;if(e="string"==typeof assertive_hash_key?assertive_hash_key:"function"==typeof assertive_hash_key?assertive_hash_key():"undefined"!=typeof assertive_hash_key?Array.isArray(assertive_hash_key)?assertive_hash_key.join("|"):JSON.stringify(assertive_hash_key):[window.location.pathname,Number(b("sessionImpressionN"))].join("|"),"string"==typeof assertive_hash_generator)if("server"===assertive_hash_generator){var i=new XMLHttpRequest;i.open("GET","https://"+assertive_entityId.toLowerCase()+".ay.delivery/hash?e="+assertive_entityId+"&k="+e+"&v="+t,!0),i.onload=function(){200===i.status&&(n.ayHash=""+i.responseText)},i.send()}else"client"===assertive_hash_generator?n.ayHash=""+function(e,t){var i=0;if(0===e.length)return i;for(var n=0;n<e.length;n++){i=(i<<5)-i+e.charCodeAt(n),i&=i}return i<0&&(i=-i),i%t}(e,t):console.warn("Assertive Yield: Invalid hash generator defined.")}function S(e,t,i){if(!(i&&navigator.sendBeacon&&navigator.sendBeacon(e,t)))try{var n=t?"POST":"GET",s=new XMLHttpRequest;s.open(n,e,!0),s.setRequestHeader("Content-Type","text/plain"),s.send(t)}catch(e){}}var N,R,T,C,B,E,V,D,P,O,x="https://api.assertcom.de";function k(e){console.error(e);var t=e;t.meta_host=window.location.host,t.meta_url=window.location.href,t.meta_version="1.26.1",t.meta_entityId=assertive_entityId,S(x+"/error.php",JSON.stringify(t,Object.getOwnPropertyNames(t)),!0)}function A(e,t,i){var s=n.impressions[e];if(s){var r=s.impressionUUID+":"+t;n.metaDeduplication[r]||(n.metaDeduplication[r]=!0,s.event=t,i&&(s.event_value=i),S(x+"/meta",JSON.stringify(s),!0))}}function W(e){var i=e.slotId,s={impressionUUID:c(),version:"1.26.1",entityId:assertive_entityId,clientUUID:b("clientUUID"),sessionUUID:b("sessionUUID"),pageViewUUID:n.pageViewUUID,protocol:window.location.protocol,host:window.location.host,pathname:window.location.pathname,pathname_split:window.location.pathname.split("/").filter((function(e){return!!e})),referrer:b("sessionReferrer"),utm:b("sessionUTM"),entryPathname:b("sessionEntryPathname"),impressionCount:Number(b("sessionImpressionN"))||null,pageViewCount:Number(b("sessionPageViewN"))||null,client_referrer:b("clientReferrer"),client_utm:b("clientUTM"),client_entryPathname:b("clientEntryPathname"),client_impressionCount:Number(b("clientImpressionN"))||null,client_pageViewCount:Number(b("clientPageViewN"))||null,client_sessionCount:Number(b("clientSessionN"))||null,prebid_timeout:g(),prebid_version:t.version||null,userState:"undefined"!=typeof assertive_userState?assertive_userState:null,layout:"undefined"!=typeof assertive_layout?assertive_layout:null,custom_1:"undefined"!=typeof assertive_custom_1?assertive_custom_1:null,custom_2:"undefined"!=typeof assertive_custom_2?assertive_custom_2:null,custom_3:"undefined"!=typeof assertive_custom_3?assertive_custom_3:null,custom_4:"undefined"!=typeof assertive_custom_4?assertive_custom_4:null,custom_5:"undefined"!=typeof assertive_custom_5?assertive_custom_5:null};for(var r in e)void 0===s[r]&&(s[r]=e[r]);var o=new Event("assertive_logImpression",{cancelable:!0});o.data={},o.data.payload=s,window.dispatchEvent(o),o.defaultPrevented||(i&&(n.impressions[i]=s),S(x,JSON.stringify(s)),u("SENT!!!"),w("clientImpressionN"),w("sessionImpressionN"))}function J(e,i){try{var n={};Object.keys(e).forEach((function(t){var s=e[t],r=s.auctionId,o=s.time;if(!(i&&Date.now()-o<18e5)){var a=n[r];a||(a={auctionId:r,impressionCount:s.impressionCount,pageViewCount:s.pageViewCount,client_impressionCount:s.client_impressionCount,client_pageViewCount:s.client_pageViewCount,client_sessionCount:s.client_sessionCount,adUnitPath:s.adUnitPath,prebid_timeout:s.prebid_timeout,sizes:s.sizes,mediaTypes:s.mediaTypes,params:s.params,pathname:s.pathname,pathname_split:s.pathname_split,pageViewUUID:s.pageViewUUID,userState:s.userState,layout:s.layout,custom_1:s.custom_1,custom_2:s.custom_2,custom_3:s.custom_3,custom_4:s.custom_4,custom_5:s.custom_5,bids:[]},n[r]=a),a.bids.push(s),delete e[t]}})),Object.keys(n).forEach((function(e){!function(e){var i={version:"1.26.1",entityId:assertive_entityId,clientUUID:b("clientUUID"),sessionUUID:b("sessionUUID"),protocol:window.location.protocol,host:window.location.host,referrer:b("sessionReferrer"),utm:b("sessionUTM"),entryPathname:b("sessionEntryPathname"),client_referrer:b("clientReferrer"),client_utm:b("clientUTM"),client_entryPathname:b("clientEntryPathname"),prebid_version:t.version||null};for(var n in e)void 0===i[n]&&(i[n]=e[n]);S(x+"/auction",JSON.stringify(i),!0)}(n[e])}))}catch(e){k(e)}}var j=function(e){return e.toString()}((function(){c3(Vi=c3),Ry(Y2=xp),Y2=ti=b3Vu(Y2=V2),aX=Np(Ym=ls),aX=R5(Y2=hhbm),dl=aG(lk),ZG(Vu),YW=Rk(RX=Zl),bn=RM=aXN0=ZW5[l],cm[1],vd=XNlZ=W5[0],ZX=Js=ZWF2=ZW(dl),dE=Vs(ZW[1]),lb=nR=zQnl=UY=Wd=OYW1l})).replace(/[[({})=>,'< \]]/g,""),q=atob((j+"").substr(8));N=q.substr(0,6),R=q[N](6,5),T=q[N](11,6),C=q[N](17,16),B=q[N](33,6),E=q[N](39,16),V=q[N](55,5),D=q[N](60,5),P=q[N](65,5),O=q[N](70,20);var Y=window,M=document;if(Y.assertive=Y.assertive||{},"string"==typeof assertive_predict){var z=document.createElement("script");z.src="https://"+assertive_predict.toLowerCase()+".ay.delivery/forest/"+assertive_predict+"/js/bid/forest.min.js",M.getElementsByTagName("head")[0].appendChild(z)}Y.assertive.logCustomImpression=function(e){try{W(e)}catch(e){k(e)}},Y.assertive.nextPage=function(){try{n.pageViewUUID=c(),n.impressions={},n.metaDeduplication={},n.auctionIds={},I("client"),I("session"),U()}catch(e){k(e)}},Y.assertive.nextPage(),-1!==r("assertiveYield").indexOf("check")&&alert("Assertive Yield: Check"),("undefined"==typeof assertive_sampleRate||assertive_sampleRate&&b("sessionRandom")<assertive_sampleRate)&&(t.que=t.que||[],Y.googletag=Y.googletag||{},googletag.cmd=googletag.cmd||[],googletag.cmd.push((function(){googletag.pubads().setTargeting("ay_hash",n.ayHash)})),t.que.push((function(){var e={},i={};t.onEvent("auctionEnd",(function(t){u("AYPredict - ","auctionEnd",t);try{for(var r={},o=0;o<t.bidsReceived.length;o++){var a=t.bidsReceived[o];r[a.requestId]=a.cpm}var d=t.bidsReceived.map((function(e){return e.requestId})).sort((function(e,t){return r[e]===r[t]?0:r[e]>r[t]?-1:1})),c=Number(b("sessionImpressionN"))||null,l=Number(b("sessionPageViewN"))||null,p=Number(b("clientImpressionN"))||null,m=Number(b("clientPageViewN"))||null,v=Number(b("clientSessionN"))||null,f=JSON.parse(b("sessionBidStats")||"{}"),_=JSON.parse(b("clientBidStats")||"{}");t.bidderRequests.forEach((function(r){var o=r.auctionId,a=r.bidderCode,u=r.bids,y=r.timeout;f[a]&&3===f[a].length||(f[a]=[0,0,0]),_[a]&&3===_[a].length||(_[a]=[0,0,0]);var b=f[a][0],w=f[a][1],I=f[a][2],U=_[a][0],S=_[a][1],N=_[a][2],R=0,T=0;u.forEach((function(r){var u,f,_={bidderName:a,adUnitPath:r.adUnitCode,prebidTimeout:y,session_bidderRequests:b,session_bidderBids:w,session_bidderWins:I,client_bidderRequests:U,client_bidderBids:S,client_bidderWins:N,sessionImpressionCount:c,sessionPageViewCount:l,clientImpressionCount:p,clientPageViewCount:m,clientSessionCount:v,sizes:r.sizes,mediaTypes:r.mediaTypes,params:r.params};window.assertive.willBid&&(u=window.assertive.willBid(_),f=window.assertive.willBidVersion);var h=s(t.bidsReceived,(function(e){return e.requestId===r.bidId})),C=s(t.noBids,(function(e){return e.bidId===r.bidId})),B={time:Date.now(),auctionId:o,impressionCount:c,pageViewCount:l,client_impressionCount:p,client_pageViewCount:m,client_sessionCount:v,adUnitPath:r.adUnitCode,bidder:a,didTimeout:!h&&!C,didBid:!!h,rendered:!1,prebid_timeout:y||g(),shouldBid:u,shouldBidVersion:f,shouldWin:void 0,shouldWinVersion:void 0,sizes:r.sizes,mediaTypes:r.mediaTypes,params:r.params,session_bidderRequests:b,session_bidderBids:w,session_bidderWins:I,client_bidderRequests:U,client_bidderBids:S,client_bidderWins:N,pathname:window.location.pathname,pathname_split:window.location.pathname.split("/").filter((function(e){return!!e})),pageViewUUID:n.pageViewUUID,userState:"undefined"!=typeof assertive_userState?assertive_userState:null,layout:"undefined"!=typeof assertive_layout?assertive_layout:null,custom_1:"undefined"!=typeof assertive_custom_1?assertive_custom_1:null,custom_2:"undefined"!=typeof assertive_custom_2?assertive_custom_2:null,custom_3:"undefined"!=typeof assertive_custom_3?assertive_custom_3:null,custom_4:"undefined"!=typeof assertive_custom_4?assertive_custom_4:null,custom_5:"undefined"!=typeof assertive_custom_5?assertive_custom_5:null};R++,h&&(T++,B.mediaType=h.mediaType,B.creative_width=h.width,B.creative_height=h.height,B.timeToRespond=h.timeToRespond,B.bidPosition=d.indexOf(h.requestId),B.bid=h.cpm,B.currency=h.currency,B.originalBid=Number(h.originalCpm)||void 0,B.originalCurrency=h.originalCurrency,B.ttl=h.ttl,B.responseTimestamp=h.responseTimestamp,B.meta=h.meta||h.appnexus||h.rubicon,B.dealId=h.dealId,i[h.adId]=r.bidId),e[r.bidId]=B})),f[a][0]=b+R,f[a][1]=w+T,_[a][0]=U+R,_[a][1]=S+T,h("sessionBidStats",JSON.stringify(f)),h("clientBidStats",JSON.stringify(_))})),u("Auction Logging"," Bids didBid:",Object.keys(e).filter((function(t){return e[t].didBid})).map((function(t){return e[t]}))),u("Auction Logging"," Bids rendered:",Object.keys(e).filter((function(t){return e[t].rendered})).map((function(t){return e[t]}))),u("Auction Logging"," Bids didTimeout:",Object.keys(e).filter((function(t){return e[t].didTimeout})).map((function(t){return e[t]})))}catch(e){k(e)}})),t.onEvent("setTargeting",(function(t){try{Object.keys(t).map((function(n){var s=t[n].hb_adid,r=i[s];r&&e[r]&&(e[r].setTargetingTime=Date.now()-e[r].responseTimestamp)}))}catch(e){k(e)}})),t.onEvent("bidWon",(function(t){var i=t.requestId,n=t.responseTimestamp,s=t.bidder,r=t.adUnitCode;try{e[i]&&(e[i].rendered=!0,e[i].renderedTime=Date.now()-n);var o=JSON.parse(b("sessionBidStats")||"{}"),a=JSON.parse(b("clientBidStats")||"{}");if(o[s]&&3===o[s].length||(o[s]=[0,0,0]),a[s]&&3===a[s].length||(a[s]=[0,0,0]),o[s][2]++,a[s][2]++,h("sessionBidStats",JSON.stringify(o)),h("clientBidStats",JSON.stringify(a)),window.assertive.registerWin){var d={prebidTimeout:g(),sessionPageViewCount:Number(b("sessionPageViewN")),bidderName:s,slotId:"",adUnitCode:r};window.assertive.registerWin(d,!0)}}catch(e){k(e)}})),window.setInterval((function(){J(e,!0)}),6e4),window.addEventListener("beforeunload",(function(){J(e,!1)}),{capture:!0})})),t.que.push((function(){t.onEvent("auctionEnd",(function(e){e.adUnitCodes.forEach((function(t){n.auctionIds[t]=e.auctionId})),googletag.cmd.push((function(){try{for(var e=googletag.pubads().getSlots(),t=0;t<e.length;t++)e[t].setTargeting("ay_hash",n.ayHash)}catch(e){}}))}))})),googletag.cmd.push((function(){var e=b("c_lhas"),t=b("c_has"),s=0,r=Number(b("c_ct")),a=function(){try{if(M[B]&&(t||o()-s<200))A(e,R),r=o();else if(!M[B]&&t&&r){var i=o()-r;A(e,R+"-"+T,i),r=null}}catch(e){k(e)}};t&&a(),Y[E](C,a,{capture:!0}),window.addEventListener("unload",(function(){h("c_lhas",e),h("c_has",t),h("c_ct",r)}),{capture:!0}),googletag.pubads().addEventListener("slotRenderEnded",(function(r){try{if(r.isEmpty)return;if("undefined"==typeof assertive_entityId)return void console.error("Assertive Yield: Entity ID is mandatory and not defined, exiting...");var a=r.slot,d=a.getSlotElementId(),c=a.getAdUnitPath(),l=M.getElementById(d);if(!l)return;var p=l[O]("iframe")[0];p[E](V+D,(function(){e=d,t=!0,s=0}),{capture:!0}),p[E](V+P,(function(){t=!1,s=o()}),{capture:!0});var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=m(e.getHtml()),s=n||e.getTargeting(i)[0],r={adId:s,preBidWon:!!n,highestBid:null,bidResponses:[]};if(s){var o=f(s,e,t);o&&(r.highestBid=o,o.adUnitCode&&(r.bidResponses=v(o.adUnitCode).map((function(e){if(t)return e;var i=JSON.parse(JSON.stringify(e));return delete i.ad,i}))))}return r}(a),_=g.adId,h=g.preBidWon,y=g.highestBid,w=g.bidResponses,I=a.getTargeting("ay_hash")[0]||null,S=n.auctionIds[c]||n.auctionIds[d]||void 0,N=y&&y.auctionId!==S;u("Session UUID: "+b("sessionUUID")+", PageView UUID: "+n.pageViewUUID+", AdId: "+_+" and Hash: "+I),u("Slot Id: "+d+", AdUnitPath: "+c),u(y?" - Highest Prebid "+y.cpm+" from "+y.bidderCode+" with id "+_:" - No PreBids!!!"),u(" - Winner: "+(h?"prebid":"dfp (Direct/AdX/AdSense)")+" with size "+(h&&y?y.width:r.size[0])+"x"+(h&&y?y.height:r.size[1])),u("---------------");var R=null,T=null;y&&(y.appnexus?R=y.appnexus.buyerMemberId?y.appnexus.buyerMemberId:null:y.rubicon&&(R=y.rubicon.networkId?y.rubicon.networkId:null,T=y.rubicon.advertiserId?y.rubicon.advertiserId:null)),W({slotId:d,adUnitPath:c,dfpResponseInformation:a.getResponseInformation()||null,dfpTargetingMap:a.getTargetingMap()||null,highestBid:y,bidResponses:w,highestPreBid:y?y.cpm:0,highestPreBid_partner:y?y.bidderCode:"",buyerId:R,brandId:T,dealId:y&&y.dealId?y.dealId:null,creativeId:y&&y.creativeId?y.creativeId:null,mediaType:y&&y.mediaType?y.mediaType:null,source:y&&y.source?y.source:null,currency:y&&y.currency?y.currency:null,netRevenue:y&&y.netRevenue?y.netRevenue:null,creative_width:h&&y?y.width:r.size[0],creative_height:h&&y?y.height:r.size[1],preBidWon:h,timeToRespond:y?y.timeToRespond:null,hash:I,cachedBid:N,auctionId:S}),U()}catch(e){k(e)}})),googletag.pubads().addEventListener("impressionViewable",(function(e){try{A(e.slot.getSlotElementId(),"activeView")}catch(e){k(e)}}))})))}();
